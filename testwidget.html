<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB_bXSY_7Ssaeg_p4mCtDVFEAn8iCxk1bY"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    
    <title>jQuery for alarm project</title>
</head>
<body>
       
    <!--Youtube iframe-->
    <div class="container">
        <div class="row">
            <div class="col-sm-4">
                <div class="youtube">
                   
                </div> 
    <!--Spotify iframe-->
                <div class="spotify">
                    
                </div>            
            </div>  
        </div>    
    </div>
    <!--weather icon -->
    <img id="weather-icon">

    </img>
    <p class="traveltime">

    </p>
</body>

<script>
    //Youtube links
var sunnyMusic = "https://www.youtube.com/embed/mxL2C3iejCw?autoplay=1";
var rainyMusic = "https://www.youtube.com/embed/6Gkdf0IIUNY?autoplay=1";
var snowMusic = "https://www.youtube.com/embed/geCNx65eFzE?autoplay=1";
var drizzleMusic = "https://www.youtube.com/embed/63JD_AY2bfc?autoplay=1";
var cloudyMusic = "https://www.youtube.com/embed/qnrs4e9AcYk?autoplay=1";
var atmosMusic = "https://www.youtube.com/embed/U-jxcH42lIo?autoplay=1";
var extremeMusic = "https://www.youtube.com/embed/2LHwEFMVeyU?autoplay=1";
var stormMusic = "https://www.youtube.com/embed/iHwTFPFu94E?autoplay=1";

//Spotify
var sunnyMusicSpotify = "https://open.spotify.com/embed?uri=spotify:user:spotify:playlist:37i9dQZF1DX6ALfRKlHn1t";
var rainyMusicSpotify = "https://open.spotify.com/embed?uri=spotify:user:spotify:playlist:37i9dQZF1DXbvABJXBIyiY";
var snowMusicSpotify = "https://open.spotify.com/embed?uri=spotify:user:spotify:playlist:37i9dQZF1DWUNIrSzKgQbP";
var drizzleMusicSpotify = "https://open.spotify.com/embed?uri=spotify:user:spotify:playlist:37i9dQZF1DWZ7mSWCFIT7v";
var cloudyMusicSpotify = "https://open.spotify.com/embed?uri=spotify:user:spotify:playlist:37i9dQZF1DWVV27DiNWxkR";
var atmosMusicSpotify = "https://open.spotify.com/embed?uri=spotify:user:spotify:playlist:37i9dQZF1DX79Y9Kr2M2tM";
var extremeMusic = "https://open.spotify.com/embed?uri=spotify:user:spotify:playlist:37i9dQZF1DWU6kYEHaDaGA";
var stormMusicSpotify = "https://open.spotify.com/embed?uri=spotify:user:spotify:playlist:37i9dQZF1DX2pSTOxoPbx9";


//var origin = get input from origin field
//var destination = get input from destination field
//var zipCode = get input from zip code field
var queryURL1 = "https://api.openweathermap.org/data/2.5/weather?zip=23225&APPID=a6bed6fbc83844c9e82000992fae233d";
var queryURL2 = "http://maps.googleapis.com/maps/api/directions/json?origin=Richmond&destination=Fredericksburg&key=AIzaSyB_bXSY_7Ssaeg_p4mCtDVFEAn8iCxk1bY";

$.ajax({
        url: queryURL1,
        method: "GET"
      }).then(function(response) {
          console.log(response);
          var weather = response.weather[0].id;
          var youTube = $('<iframe width="300" height="100" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen>');
          var spotify = $('<iframe width="300" height="100" frameborder="0" allowtransparency="true" allow="encrypted-media">');
          var iconImage = $('<img>');
        if (weather === 500-531) {
            console.log(weather);
            youTube.attr("src", rainyMusic);
            $('.youtube').append(youTube);
            spotify.attr("src", rainyMusicSpotify);
            $(".spotify").append(spotify);
            $('#weather-icon').attr('src', `http://openweathermap.org/img/w/${response.weather[0].icon}.png`);
        } else if (weather === 800, 801, 951-953) {
            console.log(weather);
            youTube.attr("src", sunnyMusic);
            $('.youtube').append(youTube);
            spotify.attr("src", sunnyMusicSpotify);
            $(".spotify").append(spotify);
            $('#weather-icon').attr('src', `http://openweathermap.org/img/w/${response.weather[0].icon}.png`);
        } else if (weather === 600-622) {
            console.log(weather);
            youTube.attr("src", snowMusic);
            $('.youtube').append(youTube);
            spotify.attr("src", snowMusicSpotify);
            $(".spotify").append(spotify);
            $('#weather-icon').attr('src', `http://openweathermap.org/img/w/${response.weather[0].icon}.png`);
        } else if (weather === 300-321) {
            console.log(weather);
            youTube.attr("src", drizzleMusic);
            $('.youtube').append(youTube);
            spotify.attr("src", drizzleMusicSpotify);
            $(".spotify").append(spotify);
            $('#weather-icon').attr('src', `http://openweathermap.org/img/w/${response.weather[0].icon}.png`);
        } else if (weather === 802-804) {
            console.log(weather);
            youTube.attr("src", cloudyMusic);
            $('.youtube').append(youTube);
            $(spotify).attr("src", cloudyMusicSpotify);
            $(".spotify").append(spotify);
            $('#weather-icon').attr('src', `http://openweathermap.org/img/w/${response.weather[0].icon}.png`);
        } else if (weather === 701-721, 741) {
            console.log(weather);
            youTube.attr("src", atmosMusic);
            $('.youtube').append(youTube);
            $(spotify).attr("src", atmosMusicSpotify);
            $(".spotify").append(spotify);
            $('#weather-icon').attr('src', `http://openweathermap.org/img/w/${response.weather[0].icon}.png`);
        } else if (weather === 731, 751-781, 900-902, 906, 957-962) {
            console.log(weather);
            youTube.attr("src", extremeMusic);
            $('.youtube').append(youTube);
            $(spotify).attr("src", extremeMusicSpotify);
            $(".spotify").append(spotify);
            $('#weather-icon').attr('src', `http://openweathermap.org/img/w/${response.weather[0].icon}.png`);
        } else if (weather === 200-232) {
            console.log(weather);
            youTube.attr("src", stormMusic);
            $('.youtube').append(youTube);
            $(spotify).attr("src", stormMusicSpotify);
            $(".spotify").append(spotify);
            $('#weather-icon').attr('src', `http://openweathermap.org/img/w/${response.weather[0].icon}.png`);
        }
      }).then(function(response) {
        var origin2 = 'Richmond, Virginia';
        var destinationA = 'Washinton, D.C>';
        var service = new google.maps.DistanceMatrixService();
        service.getDistanceMatrix(
  {
    origins: [origin2],
    destinations: [destinationA],
    travelMode: 'DRIVING'
  }, callback);

function callback(response, status) {
    console.log(response);
  // See Parsing the Results for
  // the basics of a callback function.
}
      });
      
</script>
</html>